* {
    box-sizing: border-box;
}

html.theme-transition,
html.theme-transition body,
html.theme-transition a {
    transition-property: background-color, color, border-color;
    transition-duration: $transition-speed;
    transition-timing-function: ease-out;
}

// html.theme-transition body {
//     --swipe-speed: 600ms;
//     transition-duration: none;
//     transition-delay: calc(0.5 * var(--swipe-speed));

//     &::before {
//         content: '';
//         position: fixed;
//         top: 0;
//         left: 0;
//         width: 100%;
//         background-color: $accent-green;
//         animation: transition-swipe var(--swipe-speed) ease-in-out forwards;
//         z-index: 999;
//         pointer-events: none;
//     }

//     @keyframes transition-swipe {
//         0% {
//             top: 0;
//             height: 0%;
//         }
//         50% {
//             top: 0;
//             height: 100%;
//         }
//         100% {
//             top: 100%;
//             height: 0%;
//         }
//     }
// }

body {
    background-color: var(--theme-background);
    color: var(--theme-text);

    font-family: $font-body;
    font-weight: 380;
    font-size: 16px;

    margin: 0;
}

section {
    display: grid;
    grid-template-columns: $grid-base-columns;

    &> * {
        grid-column: main;
    }

    &> h1 {
        grid-column: wide-start / main-start;
        text-align: right;
        position: sticky;
        top: 4em;
        height: 0;
        margin-right: 1em;
    }
}

h1, h2, h3 {
    font-family: $font-display;
    font-weight: bold;
    // color: var(--theme-primary);
}


a {
    color: var(--theme-primary);
    text-decoration: underline 0.5px solid var(--theme-text-ultrafaint);

    &:hover,
    &:focus {
        color: var(--theme-primary-contrast);
        text-decoration: underline;
        text-decoration-thickness: 2px;
    }

    &.link-action{

        position: relative;
        display: inline-block;

        & svg {
            stroke: currentColor;
            position: absolute;
            top: 10%;
        }

        &.link-cta {
            padding-right: 2em;

            & svg {
                margin-left: 1ex;
                transition: margin-left $transition-speed;
            }

            &:hover,
            &:focus {
                & svg {
                    margin-left: 1em;
                }
            }
        }

        &.link-back {
            padding-left: 2em;

            & svg {
                margin-left: calc(-1em + -1ex);
                transition: margin-left $transition-speed;
            }

            &:hover,
            &:focus {
                & svg {
                    margin-left: calc(-1em + -1em);
                }
            }
        }
    }

}

// Add decoration for external links
main a:not(.link-action)[href^="https://"] {

    &::after {
        // content: '↸';
        // transform: scaleX(-100%);
        content: '↗';
        // color: var(--theme-text-faint);
        font-size: 80%;
        position: relative;
        top: 0em;
        // opacity: 0;
        margin-left: 1px;
        // Remove the underline from the link. Inline-block is necessary.
        display: inline-block;
        text-decoration: none;
        transition: top $transition-speed, opacity $transition-speed;
    }

    &:hover::after,
    &:focus::after {
        top: -0.5em;
        opacity: 1;
    }

}

@import "parkeraddison/header";
@import "parkeraddison/footer";